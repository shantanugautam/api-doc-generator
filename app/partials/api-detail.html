<section>
    <section st-section="banner">
        <h1>{{Apiname}} Documentation</h1>
    </section>
    <section st-section="version">
        <span class="inline-block-el" vertical-align="middle">API reference /{{api.version}}/ </span>
        <div class="button dropdown" vertical-align="middle">
            <select name="routeChanger" id="routeChanger" ng-model="route.selectedRoute" ng-change="go(route.selectedRoute)">
                <option  ng-repeat="api in apis | orderBy:orderProp"  value="/apis/{{api.href}}">{{api.name}}</option>
            </select>
        </div>
    </section>
    <section st-section="documentation">
        <aside ng-include="'partials/search.html'" scope="" onload=""></aside>
        <section st-section="content" ng-switch = "typeofpackage()">
            <div ng-switch-when="api">
                <div st-section="subSection" data-ng-repeat="method in getParams | orderBy:name">
                    <div st-section="apiName">
                        <h3>{{method.name}}</h3>
                    </div>
                    <div st-section="apiInfo">
                        <dl>
                            <dt>Description</dt>
                            <dd>{{method.description}}</dd>
                        </dl>
                        <table ng-if="method.response">
                            <tr><th>Response</th></tr>
                            <tr>
                              <td>
                                <table>
                                    <tr>
                                        <th>No</th>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                    </tr>
                                    <tr data-ng-repeat="(key, value) in method.response">
                                        <td>
                                            {{$index + 1}}
                                        </td>
                                        <td>
                                            {{value.name}}
                                            <div ng-if ="method.response.name === 'date'">
                                            <dl>
                                                <dt>
                                                    <table>
                                                        <tr data-ng-repeat="(key, value) in method.response.date">
                                                            <td>
                                                                {{$index + 1}}
                                                            </td>
                                                            <td>
                                                                {{value.name}}
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </dt>
                                                <dd>

                                                </dd>
                                            </dl>
                                            </div>
                                        </td>
                                        <td>
                                            {{value.type}}
                                        </td>
                                        <td class="descTxt">
                                            {{value.description}}
                                        </td>
                                    </tr>
                                </table>
                              </td>
                            </tr>
                        </table>
                        <table ng-if="method.requests">
                            <tr><th>Request</th></tr>
                            <tr>
                              <td>
                                <table>
                                    <tr>
                                        <th>No</th>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Optional</th>
                                    </tr>
                                    <tr data-ng-repeat="(key, value) in method.requests">
                                        <td>
                                            {{key + 1}}
                                        </td>
                                        <td>
                                            {{value.name}}
                                        </td>
                                        <td>
                                            {{value.type}}
                                        </td>
                                        <td class="descTxt">
                                            {{value.optional}}
                                        </td>
                                    </tr>
                                </table>
                              </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div ng-switch-when="errors">
                <div st-section="subSection" data-model="getParams">
                    <div st-section="apiName">
                        <h2>Error Name</h2>
                        <br/>
                        <h3>{{data.name}}</h3>
                    </div>
                    <div st-section="apiInfo">
                        <dl>
                            <dt>Description</dt>
                            <dd>{{data.description}}</dd>
                        </dl>
                        <table>
                            <tr><th>Contents</th></tr>
                            <tr>
                              <td>
                                <table>
                                    <tr>
                                        <th>Name</th>
                                        <th>Description</th>
                                    </tr>
                                    <tr data-ng-repeat="content in data.contents">
                                        <td>
                                            {{content.name}}
                                        </td>
                                        <td class="descTxt">
                                            {{content.description}}
                                        </td>
                                    </tr>
                                </table>
                              </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div ng-switch-when="resource">
                <div st-section="subSection" data-model="getParams">
                    <div st-section="apiName">
                        <h3>{{data.name}}</h3>
                    </div>
                    <div st-section="apiInfo">
                        <md>

                        </md>
                    </div>
                </div>
            </div>
        </section>
    </section>
</section>
